(this["webpackJsonpgoit-react-hw-04-movies"]=this["webpackJsonpgoit-react-hw-04-movies"]||[]).push([[4],{32:function(e,t,a){"use strict";a.d(t,"c",(function(){return u})),a.d(t,"b",(function(){return o})),a.d(t,"d",(function(){return i})),a.d(t,"a",(function(){return s})),a.d(t,"e",(function(){return l}));var n=a(39),r=a.n(n),c="6e09ebe9f547368140ae2e8c44013351";r.a.defaults.baseURL="https://api.themoviedb.org/3/";var u=function(e){return r.a.get("search/movie?api_key=".concat(c,"&language=en-US&page=1&include_adult=false&query=").concat(e)).then((function(e){return e.data.results}))},o=function(e){return r.a.get("movie/".concat(e,"?api_key=").concat(c,"&language=en-US")).then((function(e){return e.data}))},i=function(){return r.a.get("trending/all/day?api_key=".concat(c)).then((function(e){return e.data.results}))},s=function(e){return r.a.get("movie/".concat(e,"/credits?api_key=").concat(c)).then((function(e){return e.data.cast}))},l=function(e){return r.a.get("movie/".concat(e,"/reviews?api_key=").concat(c,"&language=en-US&page=1")).then((function(e){return e.data.results}))}},69:function(e,t,a){},70:function(e,t,a){},71:function(e,t,a){},73:function(e,t,a){"use strict";a.r(t),a.d(t,"default",(function(){return d}));var n=a(37),r=a.n(n),c=a(38),u=a(33),o=a(34),i=a(36),s=a(35),l=a(0),h=a.n(l),m=a(7),f=(a(69),function(e){Object(i.a)(a,e);var t=Object(s.a)(a);function a(){var e;Object(u.a)(this,a);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(e=t.call.apply(t,[this].concat(r))).state={searchData:""},e.handleDataSearch=function(t){var a=t.currentTarget.value;e.setState({searchData:a})},e.handleDataSubmit=function(t){t.preventDefault();var a=e.state.searchData.toLowerCase();e.props.onSubmit(a)},e}return Object(o.a)(a,[{key:"render",value:function(){var e=this.state.searchData;return h.a.createElement("form",{className:"SearchForm",onSubmit:this.handleDataSubmit},h.a.createElement("button",{type:"submit",className:"SearchForm-button"},h.a.createElement("span",{className:"SearchForm-button-label"},"Search")),h.a.createElement("input",{className:"SearchForm-input",type:"text",autoComplete:"off",autoFocus:!0,placeholder:"Search movies",value:e,onChange:this.handleDataSearch}))}}]),a}(l.Component)),p=(a(70),function(e){var t=e.onSubmit;return h.a.createElement("header",{className:"Searchbar"},h.a.createElement(f,{onSubmit:t}))}),v=(a(71),a(32)),d=function(e){Object(i.a)(a,e);var t=Object(s.a)(a);function a(){var e;Object(u.a)(this,a);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(e=t.call.apply(t,[this].concat(r))).state={movies:[],query:"",error:null},e.onChangeQuery=function(t){e.setState({query:t,movies:[],error:null})},e}return Object(o.a)(a,[{key:"componentDidUpdate",value:function(e,t){var a=this.state.query;t.query!==a&&this.fetchMovies()}},{key:"fetchMovies",value:function(){var e=Object(c.a)(r.a.mark((function e(){var t,a=this;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=this.state.query,e.next=3,Object(v.c)(t).then((function(e){a.setState({movies:e})})).catch((function(e){return a.setState({error:e})}));case 3:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this.state.movies,t=this.props.match.url;return h.a.createElement(h.a.Fragment,null,h.a.createElement(p,{onSubmit:this.onChangeQuery}),h.a.createElement("ul",{className:"MoviesList"},e.map((function(e){var a=e.id,n=e.title,r=e.name,c=e.backdrop_path,u=e.poster_path;return h.a.createElement("li",{key:a,className:"MoviesItem"},h.a.createElement(m.b,{to:"".concat(t,"/").concat(a)},(c||u)&&h.a.createElement("div",{className:"MoviesThummb"},h.a.createElement("img",{src:"".concat("https://image.tmdb.org/t/p/w500").concat(c||u),alt:n||r,width:"100"})),h.a.createElement("p",null,n||r)))}))))}}]),a}(l.Component)}}]);
//# sourceMappingURL=movies-view.f9650d61.chunk.js.map